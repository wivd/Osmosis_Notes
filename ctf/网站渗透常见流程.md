**黑客们入侵网站普遍的流程**

**1、信息收集**

- Whois信息–注册人、电话、邮箱、DNS、地址
- Googlehack–敏感目录、敏感文件、更多信息收集
- 服务器IP–Nmap扫描、端口对应的服务、C段
- 旁注–Bing查询、脚本工具
- 如果遇到CDN–Cloudflare（绕过）、从子域入手（mail，postfix）、DNS传送域漏洞
- 服务器、组件（指纹）–操作系统（网址大小写、站长工具、审查元素）、web server（apache，nginx，iis）、脚本语言
- More…

通过信息收集阶段，攻击者基本上已经能够获取到网站的绝大部分信息，当然信息收集作为网站入侵的第一步，决定着后续入侵的成功。

**2、漏洞挖掘**

- 探测Web应用指纹–Discuz、PHPwind、Dedecms、Ecshop…
-  XSS、CSRF、XSIO、SQLinjection、权限绕过、任意文件读取、文件包含…
-  上传漏洞–截断、修改、解析漏洞
-  有无验证码–进行暴力破解
- More…

经过漫长的一天，攻击者手里已经掌握了你网站的大量信息以及不大不小的漏洞若干，下一步他们便会开始利用这些漏洞获取网站权限。

**3、漏洞利用**

- 思考目的性–达到什么样的效果
-  隐藏，破坏性–根据探测到的应用指纹寻找对应的EXP攻击载荷或者自己编写
- 开始漏洞攻击，获取相应权限，根据场景不同变化思路拿到webshell

**4、权限提升**

- 根据服务器类型选择不同的攻击载荷进行权限提升
-  无法进行权限提升，结合获取的资料开始密码猜解，回溯信息收集

**5、植入后门**

-  隐蔽性
-  定期查看并更新，保持周期性

**6、日志清理**

-  伪装性，隐蔽性，避免激警他们通常选择删除指定日志
- 根据时间段，find相应日志文件

说了那么多，这些步骤不知道你看懂了多少？其实大部分的脚本小黑显然不用这些繁琐的步骤，他们只喜欢快感！

对了，上面这些步骤是刚翻到12年我整理的一个freemind思维导图的部分内容：

另外可以参考茎钢互撸娃发布的：https://www.70sec.com/t/59 入侵感知图

虽然时间比较久远，但大概的思路就是这样子。