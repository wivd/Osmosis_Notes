# 文件包含

文件包含常用函数

在php中提供了四种包含文件的函数

1.incudec()   	//找不到被包含的文件时只会产生警告（E_WARNING），脚本将继续执行；

2.incudec_once()		//此语句和incudec（）语句类似，唯一区别是如果该文件中的代码已经被包含，则不会再次包含；

3.require()		//找不到被包含的文件时会产生致命错误（E_COMPILE_ERROR），并停止脚本。	

4.require_once()		//此行语句和require（）语句类似，唯一区别是如果该文件中的代码已经被包含，则不会再次包含。

文件包含实列：

1.本地文件包含

2.远程包含

文件包含利用：

## 1.读取敏感文件

​	win系统

​	linux系统

## 2.远程包含shell

关键判断allow_url_fopen是激活的

## 3.本地包含配合文件上传。

​	1.先上传带有木马的/头像/文档

​	2.再用包含去访问

## 4.使用php封装协议

​	1使用封装协议读取php文件

​	2.写入php文件

​	受限与allow_url_include选项为on

## 5.包含Apache日志文件，

​	1.确定apache的日志路径

利用：访问不存在的路径会写到access.log文件中

如何通过burp来绕过编码？



## 6.截断包含

由于固定扩展名找不到1.jpg.php导致访问失败。

可以采用page=1.jpg%00

这种方法只使用于magic_quotes_gpc=off时 如果为on会被转义。

但可以用：单引号（’）双引号（‘’）反斜杠（\）null 

## 7.绕过waf防火墙

文件包含用来制作后门，躲避web杀毒软件的检测。



但可以用：单引号（‘）双

